<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taskflow - Meus Projetos</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/home.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="img/icones/icone-TF.png" type="image/x-icon">
</head>


<body>

    <header>
        <div class="logo" onclick="window.location.href='index.html'" style="cursor: pointer;">
            <img src="img/logos/logocoloridoheader.png" alt="TaskFlow" class="logo-header">
        </div>
        <button class="menu-toggle" onclick="toggleMenu()">☰</button>
        <nav>
            <a href="sobre.html">Sobre nós</a>
            <a href="contato.html">Fale conosco</a>
            <a href="gerenciarnotificacoes.html" title="Notificações"><img src="img/icones/sino-de-notificacao.png"
                    alt="Notificações" class="icon-img" id="img-not"><label id="txt-not">Notificações</label></a>
            <a onclick="encerrarSessao()" title="Sair"><img src="img/icones/sair.png" alt="Sair" class="icon-sair" id="img-sair"><label id="txt-sair">Sair</label></a>
        </nav>
    </header>

    <main class="container">
        <aside class="sidebar">
            <button class="btn perfil" id="perfilBtn" onclick="window.location.href='alterarDadosUsuario.html'">
                <img src="img/icones/meu-perfil.png" alt="Perfil" class="icon-img"> Meu Perfil
            </button>
            <button class="btn sair" id="sairBtn">
                <img src="img/icones/sair.png" alt="Sair" class="icon-img"> Sair
            </button>
            <div style="margin-top: 30px;">
                <a href="criar-projeto.html" class="btn dark">NOVO PROJETO</a>
            </div>
        </aside>

        <section class="projects">
            <h2 class="section-title">Meus projetos</h2>
            <select class="btn status" id="statusBtn" onchange="statusProjetos()">
                <option value="todos">STATUS ▾</option>
                <option value="todos">Todos</option>
                <option value="pendentes">Pendentes</option>
                <option value="atrasados">Atrasados</option>
                <option value="concluidos">Concluídos</option>
            </select>

            <br><br>
            <div class="project-group">
                <h3 class="category-title" onclick="ocultarProjetos('projetosGestor')" title="Oculta/Mostrar">› GESTOR</h3>
                <div id="projetosGestor" style="display: block;">
                    <div id="projetosGestorAtrasados" class="project-unique"></div>
                    <div id="projetosGestorPendentes" class="project-unique"></div>
                    <div id="projetosGestorConcluidos" class="project-unique"></div>
                </div>
            </div>

            <div class="project-group">
                <h3 class="category-title" onclick="ocultarProjetos('projetosAdministrador')" title="Oculta/Mostrar">› ADMINISTRADOR</h3>
                <div id="projetosAdministrador" style="display: block;">
                    <div id="projetosAdmAtrasados" class="project-unique"></div>
                    <div id="projetosAdmPendentes" class="project-unique"></div>
                    <div id="projetosAdmConcluidos" class="project-unique"></div>
                </div>
            </div>

            <div class="project-group">
                <h3 class="category-title" onclick="ocultarProjetos('projetosMembro')" title="Oculta/Mostrar">› MEMBRO</h3>
                <div id="projetosMembro" style="display: block;">
                    <div id="projetosMembroAtrasados" class="project-unique"></div>
                    <div id="projetosMembroPendentes" class="project-unique"></div>
                    <div id="projetosMembroConcluidos" class="project-unique"></div>
                </div>
            </div>
        </section>

        <div id="meuPopup" class="popup-overlay" style="display: none;">
            <div class="popup-conteudo">
                <input type="text" id="idProjeto" name="idProjeto" style="display: none;" />
                <span class="fechar" onclick="fecharPopup()">&times;</span>
                <h2 class="popup-titulo">Dados do Projeto</h2>

                <label for="titulo">Título</label>
                <input type="text" id="titulo" name="titulo" placeholder="Título do Projeto" required />

                <label for="descricao">Descrição</label>
                <textarea id="descricao" name="descricao" rows="4" placeholder="Descrição do projeto"
                    required></textarea>

                <label for="dataLimite">Data máxima de entrega</label>
                <input type="date" id="dataLimite" name="dataLimite" required />

                <label for="anexo">Substituir Arquivo de Anexo</label>
                <input type="file" id="anexo" name="anexo"
                    accept=".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt,.jpg,.jpeg,.png" />

                <p id="msgAviso"></p>

                <button type="button" onclick="alterarProjeto()">Enviar</button>
            </div>
        </div>


        <div id="gestaoPopup" class="popup-overlay" style="display: none;">
            <div class="popup-conteudo">
                <input type="text" id="idProjetoGestaoMembros" name="idProjetoGestaoMembros" style="display: none;" />
                <span class="fechar" onclick="fecharPopupGestao()">&times;</span>
                <h2 class="popup-titulo">Gerenciar Membros e Administradores</h2>

                <!-- Membros -->
                <h3>Membros</h3>
                <div id="listaMembros" class="lista-usuarios">
                    <!-- Lista preenchida dinamicamente com JS -->
                </div>
                <input type="email" id="emailNovoMembro" placeholder="E-mail do novo membro" />
                <button type="button" onclick="adicionarMembro()">Adicionar Membro</button>

                <hr style="margin: 20px 0;">

                <!-- Administradores -->
                <h3>Administradores</h3>
                <div id="listaAdmins" class="lista-usuarios">
                    <!-- Lista preenchida dinamicamente com JS -->
                </div>
                <input type="email" id="emailNovoAdmin" placeholder="E-mail do novo administrador" />
                <button type="button" onclick="adicionarAdmin()">Adicionar Administrador</button>

                <hr style="margin: 20px 0;">

                <!-- Ceder cargo de gestor -->
                <h3>Ceder Cargo de Gestor</h3>
                <select id="novoGestor" class="select-gestor">
                    <option value=""></option>
                </select>
                <input type="password" id="senhaGestor" placeholder="Digite a senha para ceder o cargo" />
                <button type="button" onclick="cederCargoGestor()">Ceder Cargo</button>

                <p id="msgAvisoGestao" class="mensagem-erro"></p>
            </div>
        </div>



    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-left">
                <img src="img/logos/logocoloridoheader.png" alt="Taskflow Logo" class="footer-logo">
                <p>O site completo para gerenciamento de tarefas.</p>
            </div>
            <div class="footer-links">
                <a href="sobre.html">Sobre Nós</a>
                <a href="contato.html">Fale Conosco</a>
                <a href="termosUso.html">Termos de Uso</a>
                <a href="politicaPrivacidade.html">Política de Privacidade</a>
            </div><br>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Taskflow</p>
        </div>
    </footer>

    <script src="js/home.js"></script>
    <script src="js/login.js"></script>
    <script src="js/menuMobile.js"></script>

    <script>
        window.onload = sessaoIniGeral();
        window.onload = carregarProjetos();
    </script>
</body>


</html>